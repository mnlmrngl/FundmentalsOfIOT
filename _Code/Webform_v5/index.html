<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESP WebApp</title>
    <link rel="stylesheet" href="css/styles.css">

</head>

<body>
    <h1>Haturquiz</h1>


    <form id="form" type="GET">
        <label for="question">Frage</label>
        <input value="Wie hoch ist der Baum?" type="text" name="question" id="question">

        <label for="answerA">Antwort A</label>
        <input value="5m" type="text" name="answerA" id="answerA">

        <label for="answerB">Antwort B</label>
        <input value="12,5m" type="text" name="answerB" id="answerB">

        <label for="answerC">Antwort C</label>
        <input value="drölf Zentimäöüter" type="text" name="answerC" id="answerC">

        <label for="answerD">Antwort D</label>
        <input value="Scheiß egal" type="text" name="answerD" id="answerD">

        <input type="button" onclick="validateForm()" name="submit" value="Abschicken">
    </form>

    <script>
        document.getElementById('').
    </script>


    <button onclick="downloadQuestions()">Fragen downloaden</button>

    <button onclick="listFiles()">DAteinen auflisten</button>
    <button onclick="getQuestions()">Fragen Anzeigen</button>

    <script>
        function validateForm() {
            console.log('validate')

            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/save__!q" + document.forms["form"]["question"].value +
                "__!a" + document.forms["form"]["answerA"].value +
                "__!b" + document.forms["form"]["answerB"].value +
                "__!c" + document.forms["form"]["answerC"].value +
                "__!d" + document.forms["form"]["answerD"].value, true);
            xmlhttp.send();
        }

        function downloadQuestions() {
            console.log("Download Questions");
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/downloadQuestions", true);
            xmlhttp.send();
        }

        function listFiles() {
            console.log("List Files");
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/listFiles", true);
            xmlhttp.send();
        }

        function getQuestions() {
            console.log("Show Questions");
            var xmlhttp = new XMLHttpRequest();
            xmlhttp.open("GET", "/showQuestions", true);
            xmlhttp.send();
        }

        function getFirst(url, toReplace) {
            return url.substring(0, url.indexOf(toReplace));
        }

        function getLast(url, toReplace) {
            return url.substring(url.indexOf(toReplace) + toReplace.length(), url.length());
        }

        function encodeOneChar(url, toReplace, newStr) {
            return getFirst(url, toReplace) + newStr + getLast(url, toReplace);
        }

        function encodeOneCharType(str, toReplace, newStr) {
            while (str.indexOf(toReplace) >= 0) {
                str = encodeOneChar(str, toReplace, newStr);
            }
            return str;
        }

        function encodeFullString(str) {
            str = encodeOneCharType(str, "%C3%9F", "ß");
            str = encodeOneCharType(str, "%C3%A4", "Ä");
            str = encodeOneCharType(str, "%C3%84", "ä");
            str = encodeOneCharType(str, "%C3%B6", "Ö");
            str = encodeOneCharType(str, "%C3%96", "ö");
            str = encodeOneCharType(str, "%C3%BC", "Ü");
            str = encodeOneCharType(str, "%C3%9C", "ü");
            str = encodeOneCharType(str, "%20", " ");
            str = encodeOneCharType(str, "%21", "!");
            str = encodeOneCharType(str, "%22", "\"");
            str = encodeOneCharType(str, "%23", "#");
            str = encodeOneCharType(str, "%24", "$");
            str = encodeOneCharType(str, "%25", "%");
            str = encodeOneCharType(str, "%26", "&");
            str = encodeOneCharType(str, "%27", "'");
            str = encodeOneCharType(str, "%28", "(");
            str = encodeOneCharType(str, "%29", ")");
            str = encodeOneCharType(str, "%2A", "*");
            str = encodeOneCharType(str, "%2B", "+");
            str = encodeOneCharType(str, "%2C", ",");
            str = encodeOneCharType(str, "%2D", "-");
            str = encodeOneCharType(str, "%2E", ".");
            str = encodeOneCharType(str, "%2F", "/");
            str = encodeOneCharType(str, "%3A", ":");
            str = encodeOneCharType(str, "%3B", ";");
            str = encodeOneCharType(str, "%3C", "<");
            str = encodeOneCharType(str, "%3D", "=");
            str = encodeOneCharType(str, "%3E", ">");
            str = encodeOneCharType(str, "%3F", "?");
            str = encodeOneCharType(str, "%40", "@");
            str = encodeOneCharType(str, "%5B", "[");
            str = encodeOneCharType(str, "%5D", "]");
            str = encodeOneCharType(str, "%7B", "{");
            str = encodeOneCharType(str, "%7C", "|");
            str = encodeOneCharType(str, "%7D", "}");

            return str;
        }
    </script>


</body>

</html>